<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sliding Puzzle Game</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #222; color: white; }
    #board { display: grid; grid-template-columns: repeat(3, 100px); gap: 5px; margin: 50px auto; }
    .tile { width: 100px; height: 100px; background: #444; display: flex; align-items: center; justify-content: center; font-size: 2em; cursor: pointer; }
    .empty { background: #111; cursor: default; }
    button { margin-top: 20px; padding: 10px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>Sliding Puzzle 3x3</h1>
  <div id="board"></div>
  <button onclick="shuffle()">Acak Puzzle</button>

  <script>
    let size = 3;
    let board = [];
    let emptyPos = { row: size-1, col: size-1 };

    function init() {
      board = [];
      let num = 1;
      for (let r = 0; r < size; r++) {
        board[r] = [];
        for (let c = 0; c < size; c++) {
          board[r][c] = num <= size*size-1 ? num : "";
          num++;
        }
      }
      emptyPos = { row: size-1, col: size-1 };
      render();
    }

    function render() {
      const container = document.getElementById("board");
      container.innerHTML = "";
      for (let r = 0; r < size; r++) {
        for (let c = 0; c < size; c++) {
          let tile = document.createElement("div");
          tile.className = "tile" + (board[r][c] === "" ? " empty" : "");
          tile.textContent = board[r][c];
          tile.onclick = () => move(r, c);
          container.appendChild(tile);
        }
      }
    }

    function move(r, c) {
      if ((Math.abs(emptyPos.row - r) === 1 && emptyPos.col === c) ||
          (Math.abs(emptyPos.col - c) === 1 && emptyPos.row === r)) {
        board[emptyPos.row][emptyPos.col] = board[r][c];
        board[r][c] = "";
        emptyPos = { row: r, col: c };
        render();
      }
    }

    function shuffle() {
      for (let i = 0; i < 100; i++) {
        let moves = [];
        let { row, col } = emptyPos;
        if (row > 0) moves.push({ r: row-1, c: col });
        if (row < size-1) moves.push({ r: row+1, c: col });
        if (col > 0) moves.push({ r: row, c: col-1 });
        if (col < size-1) moves.push({ r: row, c: col+1 });
        let moveTile = moves[Math.floor(Math.random() * moves.length)];
        move(moveTile.r, moveTile.c);
      }
    }

    init();
  </script>
</body>
</html>
